
/* 00-Deferred.js */
(function(c){function b(e){return Object.prototype.toString.call(e)==="[object Array]"}function a(e,g){if(b(e)){for(var f=0;f<e.length;f++){g(e[f])}}else{g(e)}}function d(j){var f="pending",k=[],i=[],h=[],e=null,m={done:function(){for(var p=0;p<arguments.length;p++){if(!arguments[p]){continue}if(b(arguments[p])){var n=arguments[p];for(var o=0;o<n.length;o++){if(f==="resolved"){n[o].apply(this,e)}k.push(n[o])}}else{if(f==="resolved"){arguments[p].apply(this,e)}k.push(arguments[p])}}return this},fail:function(){for(var p=0;p<arguments.length;p++){if(!arguments[p]){continue}if(b(arguments[p])){var n=arguments[p];for(var o=0;o<n.length;o++){if(f==="rejected"){n[o].apply(this,e)}i.push(n[o])}}else{if(f==="rejected"){arguments[p].apply(this,e)}i.push(arguments[p])}}return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var p=0;p<arguments.length;p++){if(!arguments[p]){continue}if(b(arguments[p])){var n=arguments[p];for(var o=0;o<n.length;o++){if(f==="pending"){h.push(n[o])}}}else{if(f==="pending"){h.push(arguments[p])}}}return this},then:function(){if(arguments.length>1&&arguments[1]){this.fail(arguments[1])}if(arguments.length>0&&arguments[0]){this.done(arguments[0])}if(arguments.length>2&&arguments[2]){this.progress(arguments[2])}return this},promise:function(o){if(o==null){return m}else{for(var n in m){o[n]=m[n]}return o}},state:function(){return f},debug:function(){console.log("[debug]",k,i,f)},isRejected:function(){return f==="rejected"},isResolved:function(){return f==="resolved"},pipe:function(o,n,p){return d(function(q){a(o,function(r){if(typeof r==="function"){l.done(function(){var s=r.apply(this,arguments);if(s&&typeof s==="function"){s.promise().then(q.resolve,q.reject,q.notify)}else{q.resolve(s)}})}else{l.done(q.resolve)}});a(n,function(r){if(typeof r==="function"){l.fail(function(){var s=r.apply(this,arguments);if(s&&typeof s==="function"){s.promise().then(q.resolve,q.reject,q.notify)}else{q.reject(s)}})}else{l.fail(q.reject)}})}).promise()}},l={resolveWith:function(p){if(f==="pending"){f="resolved";var n=e=(arguments.length>1)?arguments[1]:[];for(var o=0;o<k.length;o++){k[o].apply(p,n)}}return this},rejectWith:function(p){if(f==="pending"){f="rejected";var n=e=(arguments.length>1)?arguments[1]:[];for(var o=0;o<i.length;o++){i[o].apply(p,n)}}return this},notifyWith:function(p){if(f==="pending"){var n=e=(arguments.length>1)?arguments[1]:[];for(var o=0;o<h.length;o++){h[o].apply(p,n)}}return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}};var g=m.promise(l);if(j){j.apply(g,[g])}return g}d.when=function(){if(arguments.length<2){var e=arguments.length?arguments[0]:undefined;if(e&&(typeof e.isResolved==="function"&&typeof e.isRejected==="function")){return e.promise()}else{return d().resolve(e).promise()}}else{return(function(g){var l=d(),j=g.length,f=0,k=new Array(j);for(var h=0;h<g.length;h++){(function(i){g[i].done(function(){k[i]=(arguments.length<2)?arguments[0]:arguments;if(++f==j){l.resolve.apply(l,k)}}).fail(function(){l.reject(arguments)})})(h)}return l.promise()})(arguments)}};c.Deferred=d})(window);

/* 01-Class.js */
(function(){var a=false,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(h){if(typeof h=="undefined"){h={}}var f,g=this.prototype,e,c;a=true;f=new this();a=false;for(e in h){f[e]=typeof h[e]=="function"&&typeof g[e]=="function"&&b.test(h[e])?(function(i,j){return function(){var l=this._super,k;this._super=g[i];k=j.apply(this,arguments);this._super=l;return k}})(e,h[e]):h[e]}function d(){if(!a&&this.init){this.init.apply(this,arguments)}}for(c in this){if(this.hasOwnProperty(c)){d[c]=this[c]}}d.prototype=f;d.prototype.constructor=d;d.extend=arguments.callee;return d}})();

/* 02-Adapter.js */
(function(){function a(c){c=c+"";return c.length==2?c:"0"+c}var b=Class.extend({init:function b(){},formatDate:function(c){if(!(c instanceof Date)){c=new Date(c)}return c.getFullYear()+"-"+a(c.getMonth()+1)+"-"+a(c.getDate())},formatDateTime:function(c){if(!(c instanceof Date)){c=new Date(c)}return this.formatDate(c)+" "+a(c.getHours())+":"+a(c.getMinutes())+":"+a(c.getSeconds())},find:function(c){throw new Error("find not implemented for this adapter")},findAll:function(c){throw new Error("findAll not implemented for this adapter")},countAll:function(c,d){throw new Error("countAll not implemented for this adapter")},destroyAll:function(c,d){throw new Error("destroyAll not implemented for this adapter")},insert:function(c,e,d){throw new Error("insert not implemented for this adapter")},update:function(c,e,d){throw new Error("update not implemented for this adapter")},destroy:function(c,e,d){throw new Error("destroy not implemented for this adapter")}});b.adapters=[];b.getAdapter=function(){if(0===this.adapters.length){this.adapters.push(new this)}return this.adapters[0]};this.Adapter=b})();

/* 03-RESTAdapter.js */
(function(a){var b=Adapter.extend({insert:function(c){var f,e=c.constructor,i,d=e._route,h={},g=new Deferred();for(f in e._columns){i=c[f];if(i===null){if(!c.isColumnModified(f)){continue}else{i=""}}else{if(i instanceof Date){if(i.getSeconds()==0&&i.getMinutes()==0&&i.getHours()==0){i=this.formatDate(i)}else{i=this.formatDateTime(i)}}}h[f]=i}a.post(d.url(this),h,function(j){if(!j||(j.errors&&j.errors.length)){g.reject(j);return}c.fromJSON(j);c.resetModified();c.setNew(false);g.resolve(j)},"json").fail(function(j,l,k){g.reject({xhr:j,status:l,errors:[k]})});return g.promise()},update:function(k){var e={},g=k.getModifiedColumns(),f=k.constructor,j=f._route,h,c=f.getPrimaryKeys(),l,i,d=new Deferred();if(c.length==0){throw new Error("This table has no primary keys")}if(k[c[0]]===null||k[c[0]]=="undefined"){d.reject({errors:["No "+c[0]+" provided"]});return d.promise()}for(h in g){l=g[h];i=this[l];if(i===null){i=""}else{if(i instanceof Date){if(i.getSeconds()==0&&i.getMinutes()==0&&i.getHours()==0){i=this.formatDate(i)}else{i=this.formatDateTime(i)}}}e[l]=i}e._method="PUT";a.post(j.url(k),e,function(m){if(!m||(m.errors&&m.errors.length)){d.reject(m);return}k.fromJSON(m);k.resetModified();d.resolve(m)},"json").fail(function(m,o,n){d.reject({xhr:m,status:o,errors:[n]})});return d.promise()},destroy:function(c){var f=c.constructor,e=f.getPrimaryKeys(),d=f._route,h=new Deferred();if(e.length==0){throw new Error("This table has no primary keys")}if(e.length>1){throw new Error("Cannot save using REST if there is more than one primary key!")}if(c[e[0]]===null||c[e[0]]=="undefined"){h.reject({errors:["No "+e[0]+" provided"]});return h.promise()}var g={};g._method="DELETE";a.post(d.url(c),g,function(i){if(!i||(i.errors&&i.errors.length)){h.reject(i);return}h.resolve(i)},"json").fail(function(i,k,j){h.reject({xhr:i,status:k,errors:[j]})});return h.promise()},find:function(d,h){var e=d.getPrimaryKey(),c=d._route,g={},f=new Deferred();if(h===null||typeof h=="undefined"){f.reject({errors:["No "+e+" provided"]});return f.promise()}g[e]=h;a.get(c.url(g),function(j){if(!j||(j.errors&&j.errors.length)){f.reject(j);return}var i=null;if(j!==null){i=new d;i.fromJSON(j);i.setNew(false);i.resetModified()}f.resolve(i)}).fail(function(i,k,j){f.reject({xhr:i,status:k,errors:[j]})});return f.promise()},findAll:function(d){var c=d._route,f={},e=new Deferred();a.get(c.url(f),function(i){if(!i||(i.errors&&i.errors.length)){e.reject(i);return}var j=[];if(i instanceof Array){for(var h=0,g=i.lenth;h<g;++h){j.push(new d().fromJSON(i[h]))}}e.resolve(j)}).fail(function(g,i,h){e.reject({xhr:g,status:i,errors:[h]})});return e.promise()}});this.RESTAdapter=b})(jQuery);

/* 03-SQLAdapter.js */
(function(){var a=Adapter.extend({_db:null,init:function a(b){this._db=b},execute:function(h,b){return[];if(!b&&h instanceof QueryStatement){h=h.setConnection(this);return h.bindAndExecute()}var c,l=[],k,e,d,f,g;if(b&&(d=b.length)!=0){for(e=0;e<d;++e){g=b[e];if(g instanceof Date){if(g.getSeconds()==0&&g.getMinutes()==0&&g.getHours()==0){b[e]=this.formatDate(g)}else{b[e]=this.formatDateTime(g)}}}c=this._db.execute(h,b)}else{c=this._db.execute(h)}l.rowsAffected=this._db.rowsAffected;if(null===c){return l}while(c.isValidRow()){k={};for(e=0,d=c.getFieldCount();e<d;++e){f=c.getFieldName(e);k[f]=c.field(e)}l.push(k);c.next()}c.close();return l},count:function(d,c){d="SELECT COUNT(0) AS rCount FROM ("+d+") AS a";var b=this.execute(d,c);return parseInt(b[0].rCount,10)},transaction:function(b){b.apply(this);b.apply(this)},lastInsertId:function(){return 1;return this._db.lastInsertRowId},quoteIdentifier:function(b){return b},applyLimit:function(d,c,b){if(b>0){d=d+"\nLIMIT "+b+(c>0?" OFFSET "+c:"")}else{if(c>0){d=d+"\nLIMIT -1 OFFSET "+c}}return d},prepareInput:function(d){if(d instanceof Array){d=d.slice(0);for(var c=0,b=d.length;c<b;++c){d[c]=this.prepareInput(d[c])}return d}if(d===true||d===false){return d?1:0}if(d===null||typeof d=="undefined"){return"NULL"}if(parseInt(d,10)===d){return d}if(d instanceof Date){if(d.getSeconds()==0&&d.getMinutes()==0&&d.getHours()==0){d=this.formatDate(d)}else{d=this.formatDateTime(d)}}return this.quote(d)},quote:function(b){return"'"+b.replace("'","''")+"'"},findQuery:function(e){var h=arguments,b=new Query().setTable(e.getTableName());h.shift();var f=h.length;if(f==0){return b}if(f==1){if(!isNaN(parseInt(h[0],10))){b.add(e.getPrimaryKey(),h[0])}else{if(typeof h[0]=="object"){if(h[0] instanceof Query){b=h[0]}else{}}else{if(typeof h[0]=="string"){if(h[1] instanceof Array){}}}}}else{if(f==2&&typeof h[0]=="string"){b.add(h[0],h[1])}else{var c=e.getPrimaryKeys();if(f==c.len){for(var i=0,j=c.length;i<j;++i){var d=c[i],g=arguments[i];if(g===null||typeof g=="undefined"){return null}b.add(d,g)}}else{throw new Error("Find called with "+f+" arguments")}}}return b},find:function(b){var c=this.findQuery.apply(this,arguments).setLimit(1);return this.select(c).shift()},findAll:function(b){return this.select(this.findQuery.apply(this,arguments))},selectRS:function(b,c){c=c||new Query;if(!c.getTable()||b.getTableName()!=c.getTable()){c.setTable(b.getTableName())}return c.select(this)},fromResult:function(e,c){var g=[],f,b,d,h,j;for(f=0,b=c.length;f<b;++f){d=new e,h=c[f];for(j in h){d[j]=h[j]}d.setNew(false);g.push(d)}return g},countAll:function(b,c){c=c instanceof Query?c:new Query(c);if(!c.getTable()||b.getTableName()!=c.getTable()){c.setTable(b.getTableName())}return c.count(this)},destroyAll:function(b,d){if(!d.getTable()||b.getTableName()!=d.getTable()){d.setTable(b.getTableName())}var c=new Deferred();d.destroy(this);c.resolve();return c.promise()},select:function(b,c){c=c instanceof Query?c:new Query(c);return this.fromResult(b,this.selectRS(b,c))},updateAll:function(f,e,c){var l=this.quoteIdentifier(f.getTableName()),g=[],k=[],i=new QueryStatement(this),j,b,h=c.getWhereClause(this),d=new Deferred();for(j in e){g.push(this.quoteIdentifier(j)+" = ?");k.push(e[j])}if(g.length==0){d.resolve();return d.promise()}b="UPDATE "+l+" SET "+g.join(", ")+" WHERE "+h.getString();i.setString(b);i.setParams(k);i.addParams(h.getParams());i.bindAndExecute();d.resolve();return d.promise()},insert:function(m){var g=m.constructor,f=g.getPrimaryKey(),h=[],l=[],j=[],i=new QueryStatement(this),b,e,k,n,c,d=new Deferred();for(e in g._columns){k=m[e];if(k===null){if(!m.isColumnModified(e)){continue}}else{if(k instanceof Date){if(k.getSeconds()==0&&k.getMinutes()==0&&k.getHours()==0){k=this.formatDate(k)}else{k=this.formatDateTime(k)}}}h.push(e);l.push(k);j.push("?")}b="INSERT INTO "+g.getTableName()+" ("+h.join(",")+") VALUES ("+j.join(",")+") ";i.setString(b);i.setParams(l);n=i.bindAndExecute();if(f&&g.isAutoIncrement()){c=this.lastInsertId();if(null!==c){m[f]=c}}m.resetModified();m.setNew(false);d.resolve();return d.promise()},update:function(l){var e={},b=new Query,f=l.constructor,c=f._primaryKeys,i=l.getModifiedColumns(),j,g,m,d,h,k;if(c.length==0){throw new Error("This table has no primary keys")}for(m in i){k=l[m];if(k instanceof Date){if(k.getSeconds()==0&&k.getMinutes()==0&&k.getHours()==0){k=this.formatDate(k)}else{k=this.formatDateTime(k)}}e[m]=k}for(j=0,g=c.length;j<g;++j){d=c[j];h=l[d];if(h===null){throw new Error("Cannot delete using NULL primary key.")}b.addAnd(d,h)}var n=this.updateAll(f,e,b);n.then(function(){l.resetModified()});return n},destroy:function(d){var e=d.constructor._primaryKeys,h=new Query,c,b,g,f;if(e.length==0){throw new Error("This table has no primary keys")}for(c=0,b=e.length;c<b;++c){g=e[c];f=d[g];if(f===null){throw new Error("Cannot delete using NULL primary key.")}h.addAnd(g,f)}return this.destroyAll(d.constructor,h)}});this.SQLAdapter=a})();

/* 04-Query.js */
(function(){function e(i,h,g,f){this._conds=[];if(arguments.length!=0){this.addAnd.apply(this,arguments)}}e.QUOTE_LEFT=1;e.QUOTE_RIGHT=2;e.QUOTE_BOTH=3;e.QUOTE_NONE=4;e.prototype={_conds:null,_processCondition:function(i,o,h,g){switch(arguments.length){case 0:return null;break;case 1:if(i instanceof c){return i}case 2:h=a.EQUAL;case 3:g=e.QUOTE_RIGHT}var m=new c,p,n,l=o instanceof a,j=o instanceof Array,f;if(i instanceof e){p=i.getQueryStatement();if(null===p){return null}p.setString("("+p._qString+")");return p}if(g==e.QUOTE_LEFT||g==e.QUOTE_BOTH){m.addParam(i);i="?"}if(j||l){if(false==l||1!==o.getLimit()){switch(h){case a.IN:case a.EQUAL:h=a.IN;break;case a.NOT_IN:case a.NOT_EQUAL:case a.ALT_NOT_EQUAL:h=a.NOT_IN;break;default:throw new Error(h+" unknown for comparing an array.")}}if(l){if(!o.getTable()){throw new Error("right does not have a table, so it cannot be nested.")}p=o.getQuery();if(null===p){return null}o="("+p._qString+")";m.addParams(p._params);if(g!=e.QUOTE_LEFT){g=e.QUOTE_NONE}}else{if(j){f=o.length;if(2==f&&h==a.BETWEEN){m.setString(i+" "+h+" ? AND ?");m.addParams(o);return m}else{if(0==f){if(h==a.IN){m.setString("(0 = 1)");return m}else{if(h==a.NOT_IN){return null}}}else{if(g==e.QUOTE_RIGHT||g==e.QUOTE_BOTH){m.addParams(o);var k="(";for(n=0;n<f;++n){if(0<n){k+=","}k+="?"}o=k+")"}}}}}}else{if(null===o){if(h==a.NOT_EQUAL||h==a.ALT_NOT_EQUAL){h=a.IS_NOT_NULL}else{if(h==a.EQUAL){h=a.IS_NULL}}}if(h==a.IS_NULL||h==a.IS_NOT_NULL){o=null}else{if(g==e.QUOTE_RIGHT||g==e.QUOTE_BOTH){m.addParam(o);o="?"}}}m.setString(i+" "+h+" "+o);return m},add:function(i,h,g,f){return this.addAnd.apply(this,arguments)},addAnd:function(j,i,g,f){var h,k;if(j.constructor===Object){for(h in j){this.addAnd(h,j[h])}return this}k=this._processCondition.apply(this,arguments);if(null!==k){k.sep="AND";this._conds.push(k)}return this},addOr:function(j,i,g,f){var h,k;if(j.constructor===Object){for(h in j){this.addOr(h,j[h])}return this}k=this._processCondition.apply(this,arguments);if(null!==k){k.sep="OR";this._conds.push(k)}return this},andNot:function(f,g){return this.addAnd(f,g,a.NOT_EQUAL)},andLike:function(f,g){return this.addAnd(f,g,a.LIKE)},andNotLike:function(f,g){return this.addAnd(f,g,a.NOT_LIKE)},andGreater:function(f,g){return this.addAnd(f,g,a.GREATER_THAN)},andGreaterEqual:function(f,g){return this.addAnd(f,g,a.GREATER_EQUAL)},andLess:function(f,g){return this.addAnd(f,g,a.LESS_THAN)},andLessEqual:function(f,g){return this.addAnd(f,g,a.LESS_EQUAL)},andNull:function(f){return this.addAnd(f,null)},andNotNull:function(f){return this.addAnd(f,null,a.NOT_EQUAL)},andBetween:function(f,h,g){return this.addAnd(f,array(h,g),a.BETWEEN)},andBeginsWith:function(f,g){return this.addAnd(f,g,a.BEGINS_WITH)},andEndsWith:function(f,g){return this.addAnd(f,g,a.ENDS_WITH)},andContains:function(f,g){return this.addAnd(f,g,a.CONTAINS)},orNot:function(f,g){return this.addOr(f,g,a.NOT_EQUAL)},orLike:function(f,g){return this.addOr(f,g,a.LIKE)},orNotLike:function(f,g){return this.addOr(f,g,a.NOT_LIKE)},orGreater:function(f,g){return this.addOr(f,g,a.GREATER_THAN)},orGreaterEqual:function(f,g){return this.addOr(f,g,a.GREATER_EQUAL)},orLess:function(f,g){return this.addOr(f,g,a.LESS_THAN)},orLessEqual:function(f,g){return this.addOr(f,g,a.LESS_EQUAL)},orNull:function(f){return this.addOr(f,null)},orNotNull:function(f){return this.addOr(f,null,a.NOT_EQUAL)},orBetween:function(f,h,g){return this.addOr(f,array(h,g),a.BETWEEN)},orBeginsWith:function(f,g){return this.addOr(f,g,a.BEGINS_WITH)},orEndsWith:function(f,g){return this.addOr(f,g,a.ENDS_WITH)},orContains:function(f,g){return this.addOr(f,g,a.CONTAINS)},getQueryStatement:function(l){if(0==this._conds.length){return null}var k=new c(l),h="",g,j,i=this._conds,f=i.length;for(g=0;g<f;++g){j=i[g];if(null===j){continue}h+="\n\t";if(0!=g){h+=((1==g&&i[0].sep=="OR")?"OR":j.sep)+" "}h+=j._qString;k.addParams(j._params)}k.setString(h);return k},toString:function(){return this.getQueryStatement().toString()}};function a(h,g){this._columns=[];this._joins=[];this._orders=[];this._groups=[];this._where=new e;if(typeof h=="object"&&!(h instanceof a)){for(var f in h){this.addAnd(f,h[f])}}if(h){this.setTable(h,g)}return this}a.ACTION_COUNT="COUNT";a.ACTION_DELETE="DELETE";a.ACTION_SELECT="SELECT";a.EQUAL="=";a.NOT_EQUAL="<>";a.ALT_NOT_EQUAL="!=";a.GREATER_THAN=">";a.LESS_THAN="<";a.GREATER_EQUAL=">=";a.LESS_EQUAL="<=";a.LIKE="LIKE";a.BEGINS_WITH="BEGINS_WITH";a.ENDS_WITH="ENDS_WITH";a.CONTAINS="CONTAINS";a.NOT_LIKE="NOT LIKE";a.CUSTOM="CUSTOM";a.DISTINCT="DISTINCT";a.IN="IN";a.NOT_IN="NOT IN";a.ALL="ALL";a.IS_NULL="IS NULL";a.IS_NOT_NULL="IS NOT NULL";a.BETWEEN="BETWEEN";a.CUSTOM_EQUAL="CUSTOM_EQUAL";a.ILIKE="ILIKE";a.NOT_ILIKE="NOT ILIKE";a.JOIN="JOIN";a.LEFT_JOIN="LEFT JOIN";a.RIGHT_JOIN="RIGHT JOIN";a.INNER_JOIN="INNER JOIN";a.OUTER_JOIN="OUTER JOIN";a.BINARY_AND="&";a.BINARY_OR="|";a.ASC="ASC";a.DESC="DESC";a.prototype={_action:a.ACTION_SELECT,_columns:null,_table:null,_tableAlias:null,_extraTables:null,_joins:null,_where:null,_orders:null,_groups:null,_having:null,_limit:null,_offset:0,_distinct:false,setDistinct:function(f){if(typeof f=="undefined"){f=true}this._distinct=f==true},setAction:function(f){this._action=f;return this},getAction:function(){return this._action},addColumn:function(f){this._columns.push(f);return this},setColumns:function(f){this._columns=f.slice(0);return this},getColumns:function(){return this._columns},setGroups:function(f){this._groups=f;return this},getGroups:function(){return this._groups},setTable:function(g,f){if(g instanceof a){if(!f){throw new Error("The nested query must have an alias.")}}if(f){this.setAlias(f)}this._table=g;return this},getTable:function(){return this._table},setAlias:function(f){this._tableAlias=f;return this},getAlias:function(){return this._tableAlias},addTable:function(f,g){if(f instanceof a){if(!g){throw new Error("The nested query must have an alias.")}}else{if(typeof g=="undefined"){g=f}}if(this._extraTables==null){this._extraTables={}}this._extraTables[g]=f;return this},setWhere:function(f){this._where=f;return this},getWhere:function(){return this._where},addJoin:function(g,f,h){if(g instanceof b){this._joins.push(g);return this}if(null===f){if(h==a.JOIN||h==a.INNER_JOIN){this.addTable(g);return this}f="1 = 1"}this._joins.push(new b(g,f,h));return this},join:function(g,f,h){return this.addJoin(g,f,h)},innerJoin:function(g,f){return this.addJoin(g,f,a.INNER_JOIN)},leftJoin:function(g,f){return this.addJoin(g,f,a.LEFT_JOIN)},rightJoin:function(g,f){return this.addJoin(g,f,a.RIGHT_JOIN)},outerJoin:function(g,f){return this.addJoin(g,f,a.OUTER_JOIN)},getJoins:function(){return this._joins},setJoins:function(f){this._joins=f;return this},addAnd:function(h,i,g,f){this._where.addAnd.apply(this._where,arguments);return this},add:function(h,i,g,f){return this.addAnd.apply(this,arguments)},addOr:function(h,i,g,f){this._where.addOr.apply(this._where,arguments);return this},andNot:function(f,g){this._where.andNot(f,g);return this},andLike:function(f,g){this._where.andLike(f,g);return this},andNotLike:function(f,g){this._where.andNotLike(f,g);return this},andGreater:function(f,g){this._where.andGreater(f,g);return this},andGreaterEqual:function(f,g){this._where.andGreaterEqual(f,g);return this},andLess:function(f,g){this._where.andLess(f,g);return this},andLessEqual:function(f,g){this._where.andLessEqual(f,g);return this},andNull:function(f){this._where.andNull(f);return this},andNotNull:function(f){this._where.andNotNull(f);return this},andBetween:function(f,h,g){this._where.andBetween(f,h,g);return this},andBeginsWith:function(f,g){this._where.andBeginsWith(f,g);return this},andEndsWith:function(f,g){this._where.andEndsWith(f,g);return this},andContains:function(f,g){this._where.andContains(f,g);return this},orNot:function(f,g){this._where.orNot(f,g);return this},orLike:function(f,g){this._where.orLike(f,g);return this},orNotLike:function(f,g){this._where.orNotLike(f,g);return this},orGreater:function(f,g){this._where.orGreater(f,g);return this},orGreaterEqual:function(f,g){this._where.orGreaterEqual(f,g);return this},orLess:function(f,g){this._where.orLess(f,g);return this},orLessEqual:function(f,g){this._where.orLessEqual(f,g);return this},orNull:function(f){this._where.orNull(f);return this},orNotNull:function(f){this._where.orNotNull(f);return this},orBetween:function(f,h,g){this._where.orBetween(f,h,g);return this},orBeginsWith:function(f,g){this._where.orBeginsWith(f,g);return this},orEndsWith:function(f,g){this._where.orEndsWith(f,g);return this},orContains:function(f,g){this._where.orContains(f,g);return this},groupBy:function(f){this._groups.push(f);return this},setHaving:function(f){this._having=f;return this},getHaving:function(){return this._having},orderBy:function(g,f){if(null!==f&&typeof f!="undefined"){g=g+" "+f}this._orders.push(g);return this},setLimit:function(f){f=parseInt(f);if(isNaN(f)){throw new Error("Not a number")}this._limit=f;return this},getLimit:function(){return this._limit},setOffset:function(f){f=parseInt(f);if(isNaN(f)){throw new Error("Not a number")}this._offset=f;return this},hasAggregates:function(){if(this._groups.length!=0){return true}for(var g=0,f=this._columns.length;g<f;++g){if(this._columns[g].indexOf("(")!=-1){return true}}return false},needsComplexCount:function(){return this.hasAggregates()||null!==this._having||this._distinct},getQuery:function(i){if(typeof i=="undefined"){i=new Adapter}var n=new c(i),g,l,h,p,k,f,m,o,j;g="";switch(this._action){default:case a.ACTION_COUNT:case a.ACTION_SELECT:l=this.getColumnsClause(i);n.addParams(l._params);g+="SELECT "+l._qString;break;case a.ACTION_DELETE:g+="DELETE";break}h=this.getTablesClause(i);n.addParams(h._params);g+="\nFROM "+h._qString;if(this._joins.length!=0){for(p=0,k=this._joins.length;p<k;++p){f=this._joins[p],m=f.getQueryStatement(i);g+="\n\t"+m._qString;n.addParams(m._params)}}o=this.getWhereClause();if(null!==o){g+="\nWHERE "+o._qString;n.addParams(o._params)}if(this._groups.length!=0){g+="\nGROUP BY "+this._groups.join(", ")}if(null!==this.getHaving()){j=this.getHaving().getQueryStatement();if(j){g+="\nHAVING "+j._qString;n.addParams(j._params)}}if(this._action!=a.ACTION_COUNT&&this._orders.length!=0){g+="\nORDER BY "+this._orders.join(", ")}if(null!==this._limit){if(i){g=i.applyLimit(g,this._offset,this._limit)}else{g+="\nLIMIT "+(this._offset?this._offset+", ":"")+this._limit}}if(this._action==a.ACTION_COUNT&&this.needsComplexCount()){g="SELECT count(0)\nFROM ("+g+") a"}n.setString(g);return n},getTablesClause:function(i){var o=this.getTable(),k,j,h,m,f,n,l,g;if(!o){throw new Error("No table specified.")}k=new c(i),j=this.getAlias();if(o instanceof a){h=o.getQuery(i),f="("+h._qString+")"}else{h=null;f=o}switch(this._action){case a.ACTION_COUNT:case a.ACTION_SELECT:if(null!==h){k.addParams(h._params)}if(j){f=f+" AS "+j}if(this._extraTables!=null){for(m in this._extraTables){n=this._extraTables[m];if(n instanceof a){l=n.getQuery(i),g="("+l._qString+") AS "+m;k.addParams(l._params)}else{g=n;if(m!=n){g=g+" AS "+m}}f=f+", "+g}}k.setString(f);break;case a.ACTION_DELETE:if(null!==h){k.addParams(h._params)}if(j){f=f+" AS "+j}k.setString(f);break;default:break}return k},getColumnsClause:function(f){var o=this.getTable(),g,l=new c(f),j=this.getAlias(),h=this._action,m,k,n,i;if(h==a.ACTION_DELETE){return l}if(!o){throw new Error("No table specified.")}if(h==a.ACTION_COUNT){if(!this.needsComplexCount()){l.setString("count(0)");return l}if(this._groups.length!=0){l.setString(this._groups.join(", "));return l}if(!this._distinct&&null===this.getHaving()&&this._columns.length!=0){n=[];for(m=0,k=this._columns.length;m<k;++m){g=this._columns[m];if(g.indexOf("(")==-1){continue}n.push(g)}if(n.length!=0){l.setString(n.join(", "));return l}}}if(this._columns.length!=0){i=this._columns.join(", ")}else{if(j){i=j+".*"}else{i=o+".*"}}if(this._distinct){i="DISTINCT "+i}l.setString(i);return l},getWhereClause:function(f){return this._where.getQueryStatement(f)},toString:function(){if(!this.getTable()){this.setTable("{UNSPECIFIED-TABLE}")}return this.getQuery().toString()},count:function(f){if(!this.getTable()){throw new Error("No table specified.")}this.setAction(a.ACTION_COUNT);return parseInt(this.getQuery(f).bindAndExecute()[0],10)},destroy:function(f){if(!this.getTable()){throw new Error("No table specified.")}this.setAction(a.ACTION_DELETE);return this.getQuery(f).bindAndExecute().rowsAffected},select:function(f){if(!this.getTable()){throw new Error("No table specified.")}this.setAction(a.ACTION_SELECT);return this.getQuery(f).bindAndExecute()}};var d=/^\w+\.\w+$/;b=function b(g,f,h){if(arguments.length<3){h=a.JOIN}if(!(g instanceof a)&&!(f instanceof e)&&d.test(f)&&d.test(g)){this._isLikePropel=true;this._leftColumn=g;this._rightColumn=f;this._table=f.substring(0,f.indexOf("."));this._joinType=h;return}this.setTable(g).setOnClause(f).setJoinType(h)};b.prototype={_table:null,_alias:null,_onClause:null,_isLikePropel:false,_leftColumn:null,_rightColumn:null,_joinType:a.JOIN,toString:function(){if(!this.getTable()){this.setTable("{UNSPECIFIED-TABLE}")}return this.getQueryStatement().toString()},setTable:function(g){var h=g.lastIndexOf(" "),f=h==-1?-1:g.toUpperCase().lastIndexOf(" AS ");if(f!=h-3){f=-1}if(h!=-1){this.setAlias(g.substr(h+1));g=g.substring(0,f===-1?h:f)}this._table=g;return this},setAlias:function(f){this._alias=f;return this},setOnClause:function(f){this._isLikePropel=false;this._onClause=f;return this},setJoinType:function(f){this._joinType=f;return this},getQueryStatement:function(k){var j,i=this._table,g=this._onClause,l=this._joinType,h=this._alias,f;if(i instanceof a){j=i.getQuery(k);i="("+j._qString+")";j.setString("")}else{j=new c(k)}if(h){i+=" AS "+h}if(this._isLikePropel){g=this._leftColumn+" = "+this._rightColumn}else{if(null===g){g="1 = 1"}else{if(g instanceof e){f=g.getQueryStatement();g=f._qString;j.addParams(f.getParams())}}}if(""!==g){g="ON ("+g+")"}j.setString(l+" "+i+" "+g);return j},getTable:function(){return this._table},getAlias:function(){return this._alias},getOnClause:function(){if(this._isLikePropel){return this._leftColumn+" = "+this._rightColumn}return this._onClause},getJoinType:function(){return this._joinType}};function c(f){this._params=[];if(f){this._conn=f}}c.embedParams=function(j,m,k){if(k){m=k.prepareInput(m)}var l="?";if(j.split(l).length-1!=m.length){throw new Error("The number of occurances of "+l+" do not match the number of _params.")}if(m.length==0){return j}var g=j.length,h=l.length,f,i;for(f=m.length-1;f>=0;--f){i=m[f];g=j.lastIndexOf(l,g);if(g==-1){throw new Error("The number of occurances of "+l+" do not match the number of _params.")}j=j.substring(0,g)+i+j.substr(g+h)}return j};c.prototype={_qString:"",_params:null,_conn:null,setConnection:function(f){this._conn=f},getConnection:function(){return this._conn},setString:function(f){this._qString=f},getString:function(){return this._qString},addParams:function(f){this._params=this._params.concat(f)},setParams:function(f){this._params=f.slice(0)},addParam:function(f){this._params.push(f)},getParams:function(){return this._params.slice(0)},toString:function(){return c.embedParams(this._qString,this._params.slice(0),this._conn)},bindAndExecute:function(){var f=this._conn;f=f||Adapter.getConnection();return f.execute(this._qString,this._params)}};this.Condition=e;this.Query=a;this.QueryStatement=c;this.QueryJoin=b})();

/* 07-Model.js */
(function(){var c=Class.extend({_privateValues:null,_originalValues:null,_isNew:true,_validationErrors:null,init:function c(i){this._validationErrors=[];this._privateValues={};this.resetModified();if(i){this.fromArray(i)}},toString:function(){return this.constructor.name+":"+this.getPrimaryKeyValues().join("-")},get:function(i){return this[i]},set:function(i,l){this[i]=l;return this},copy:function(){var o=new this.constructor,n=this.constructor._primaryKeys,l,i,p;o.fromArray(this.toArray());for(l=0,i=n.length;l<i;++l){p=n[l];o[p]=null}return o},isModified:function(){for(var i in this.constructor._columns){if(this[i]!==this._originalValues[i]){return true}}return false},isColumnModified:function(i){return this[i]!==this._originalValues[i]},getModifiedColumns:function(){var i={};for(var l in this.constructor._columns){if(this[l]!==this._originalValues[l]){i[l]=true}}return i},resetModified:function(){this._originalValues={};for(var i in this.constructor._columns){this._originalValues[i]=this[i]}return this},coerceColumnValue:function(l,r,p){if(!p){p=this.constructor.getColumnType(l)}r=typeof r=="undefined"?null:r;var o=c.isTemporalType(p),n=c.isNumericType(p),q,i;if(n||o){if(""===r){r=null}else{if(null!==r){if(n){if(c.isIntegerType(p)){q=parseInt(r,10);if(q.toString()!=r.toString()){throw new Error(r+" is not a valid integer")}r=q}else{i=parseFloat(r,10);if(i.toString()!=r.toString()){throw new Error(r+" is not a valid float")}}}else{if(o){r=c.coerceTemporalValue(r,p,this.constructor.getAdapter())}}}}}return r},fromArray:function(i){for(var l in this.constructor._columns){if(!(l in i)){continue}this[l]=i[l]}return this},toArray:function(){var l={},i;for(i in this.constructor._columns){l[i]=this[i]}return l},hasPrimaryKeyValues:function(){var n=this.constructor._primaryKeys,l,i,o;if(n.length==0){return false}for(l=0,i=n.length;l<i;++l){o=n[l];if(this[o]===null){return false}}return true},getPrimaryKeyValues:function(){var n=[],o=this.constructor._primaryKeys,l,i,p;for(l=0,i=o.length;l<i;++l){p=o[l];n.push(this[p])}return n},isNew:function(){return this._isNew},setNew:function(i){this._isNew=(i==true);return this},validate:function(){this._validationErrors=[];return true},getValidationErrors:function(){return this._validationErrors},save:function(){if(!this.validate()){throw new Error("Cannot save "+this.constructor.getClassName()+" with validation errors.")}if(this.constructor._primaryKeys.length==0){throw new Error("Cannot save without primary keys")}if(this.isNew()&&this.constructor.hasColumn("created")&&!this.isColumnModified("created")){this.created=new Date()}if((this.isNew()||this.isModified())&&this.constructor.hasColumn("updated")&&!this.isColumnModified("updated")){this.updated=new Date()}if(this.isNew()){return this.insert()}else{return this.update()}},archive:function(){if(!this.constructor.hasColumn("archived")){throw new Error('Cannot call archive on models without "archived" column')}if(null!==this.archived&&typeof this.archived!="undefined"){throw new Error("This "+this.constructor.getClassName()+" is already archived.")}this.archived=new Date();return this.save()},insert:function(){return this.constructor._adapter.insert(this)},update:function(i){if(typeof onSuccess=="object"){this.fromArray(i)}if(!this.isModified()){var l=new Deferred();l.resolve();return l.promise()}return this.constructor._adapter.update(this)},destroy:function(l,i){return this.constructor._adapter.destroy(this,l,i)}});c.COLUMN_TYPE_TEXT="TEXT";c.COLUMN_TYPE_NUMERIC="NUMERIC";c.COLUMN_TYPE_INTEGER="INTEGER";c.COLUMN_TYPE_BLOB="BLOB";c.COLUMN_TYPE_DATE="DATE";c.COLUMN_TYPE_TIME="TIME";c.COLUMN_TYPE_TIMESTAMP="TIMESTAMP";c.COLUMN_TYPES={TEXT:c.COLUMN_TYPE_TEXT,NUMERIC:c.COLUMN_TYPE_NUMERIC,INTEGER:c.COLUMN_TYPE_INTEGER,BLOB:c.COLUMN_TYPE_BLOB,DATE:c.COLUMN_TYPE_DATE,TIME:c.COLUMN_TYPE_TIME,TIMESTAMP:c.COLUMN_TYPE_TIMESTAMP};c.TEXT_TYPES={TEXT:c.COLUMN_TYPE_TEXT,DATE:c.COLUMN_TYPE_DATE,TIME:c.COLUMN_TYPE_TIME,TIMESTAMP:c.COLUMN_TYPE_TIMESTAMP};c.INTEGER_TYPES={INTEGER:c.COLUMN_TYPE_INTEGER};c.BLOB_TYPES={BLOB:c.COLUMN_TYPE_BLOB};c.TEMPORAL_TYPES={DATE:c.COLUMN_TYPE_DATE,TIME:c.COLUMN_TYPE_TIME,TIMESTAMP:c.COLUMN_TYPE_TIMESTAMP};c.NUMERIC_TYPES={INTEGER:c.COLUMN_TYPE_INTEGER,NUMERIC:c.COLUMN_TYPE_NUMERIC};c.isColumnType=function(i){return(i in c.COLUMN_TYPES)};c.isTemporalType=function(i){return(i in this.TEMPORAL_TYPES)};c.isTextType=function(i){return(i in this.TEXT_TYPES)};c.isNumericType=function(i){return(i in this.NUMERIC_TYPES)};c.isIntegerType=function(i){return(i in this.INTEGER_TYPES)};c.isBlobType=function(i){return(i in c.BLOB_TYPES)};c.coerceTemporalValue=function(p,o){var l,n,i;if(p instanceof Array){for(l=0,i=p;l<i;++l){p[l]=this.coerceTemporalValue(p[l],o)}return p}n=new Date(p);if(isNaN(n.getTime())){throw new Error(p+" is not a valid date")}return n};c._table=null;c._primaryKeys=null;c._isAutoIncrement=true;c._columns=null;c.getAdapter=function(){return this._adapter};c.setAdapter=function(i){this._adapter=i;return this};c.getTableName=function(){return this._table};c.getColumns=function(){return this._columns.slice(0)};c.getColumnType=function(i){return this._columns[i]};c.hasColumn=function(i){for(var l in this._columns){if(l==i){return true}}return false};c.getPrimaryKeys=function(){return this._primaryKeys.slice(0)};c.getPrimaryKey=function(){return this._primaryKeys.length==1?this._primaryKeys[0]:null};c.isAutoIncrement=function(){return this._isAutoIncrement};c.prototype.toJSON=c.prototype.toArray;c.prototype.fromJSON=c.prototype.fromArray;var g=["count","findAll","find"];for(var e=0,d=g.length;e<d;++e){var a=g[e];c[a]=(function(i){return function(){var n=[this];for(var o=0;o<arguments.length;o++){n.push(arguments[o])}var l=this.getAdapter();return l[i].apply(l,n)}})(a)}var k=["findBy","retrieveByColumn","retrieveByPK","retrieveByPKs","findByPKs"];for(var m=0,h=k.length;m<h;++m){c[k[m]]=c.find}c.addGetterAndSetter=function(i,l,n){if(!i.__defineGetter__){return}i.__defineGetter__(l,function(){var o=this._privateValues[l];return typeof o=="undefined"?null:o});i.__defineSetter__(l,function(o){o=this.coerceColumnValue(l,o,n);if(this._privateValues[l]===o){return}this._privateValues[l]=o})};c.models={};function f(i){return b(i,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function b(l,i){return encodeURIComponent(l).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace((i?null:/%20/g),"+")}function j(q,s){this.template=q=q+"#";this.defaults=s||{};var o=this.urlParams={},r=q.split(/\W/);for(var p=0,n=r.length;p<n;++p){var t=r[p];if(t&&q.match(new RegExp("[^\\\\]:"+t+"\\W"))){o[t]=true}}this.template=q.replace(/\\:/g,":")}j.prototype={url:function(q){var n=this,o=this.template,p,l;q=q||{};for(var i in this.urlParams){p=typeof q[i]!="undefined"||q.hasOwnProperty(i)?q[i]:n.defaults[i];if(typeof p!="undefined"&&p!==null){l=f(p);o=o.replace(new RegExp(":"+i+"(\\W)","g"),l+"$1")}else{o=o.replace(new RegExp("(/?):"+i+"(\\W)","g"),function(s,t,r){if(r.charAt(0)=="/"){return r}else{return t+r}})}}return o}};c.create=function(n){var o,l,i,p;if(typeof n.table=="undefined"){throw new Error("Must provide a table when exending Model")}if(typeof n.columns=="undefined"){throw new Error("Must provide columns when exending Model")}if(typeof n.primaryKeys=="undefined"){throw new Error("Must provide primaryKeys when exending Model")}o=this.extend(n.instancePrototype);for(l in n.columns){i=n.columns[l]=n.columns[l].toUpperCase();if(!c.isColumnType(i)){throw new Error(i+" is not a valide DABL/SQLite column type")}c.addGetterAndSetter(o.prototype,l,i)}for(p in n){switch(p){case"url":o._route=new j(n[p]);break;case"adapter":case"table":case"columns":case"primaryKeys":case"isAutoIncrement":o["_"+p]=n[p];break;default:o[p]=n[p];break}}c.models[n.table]=o;o.name="Foo";return o};this.Model=c})();

/* 08-Migration.js */
(function(){var a={};a.schema=Model.create({table:"schema_definitions",primaryKeys:["id"],columns:{id:"INTEGER",table_name:"TEXT",column_names:"TEXT",column_types:"TEXT"}});a.migrate=function(e){if(!e){e={}}var d,g={},c,b,f;if(e.refresh){for(d in Model.models){Adapter.execute("DROP TABLE IF EXISTS "+d)}a.setupSchema(true)}else{a.setupSchema()}if(a.migrations){g=a.migrations}if(g[1]&&g[1].constructor===Object){c=a.currentSchemaVersion();b=Infinity;if(e.number!==null&&typeof e.number!="undefined"){b=e.number}else{if(typeof e==="number"){b=e}}f=c;do{if(f===b){return}else{if(f<b){f+=1;if(g[f]!==null&&typeof g[f]!="undefined"){g[f].up()}else{break}}else{g[f].down();f-=1}}a.updateSchemaVersion(f)}while(g[f])}else{}};a.setupSchema=function(b){var c;a.createTable("schema_migrations",{version:"TEXT"});if(Adapter.count("SELECT * FROM schema_migrations")===0){c="INSERT INTO schema_migrations (version) VALUES(0)";Adapter.execute(c)}if(b&&Adapter.count("SELECT * FROM schema_migrations")===1){c="UPDATE schema_migrations set version = 0";Adapter.execute(c)}a.createTable("schema_definitions",{id:"INTEGER",table_name:"TEXT",column_names:"TEXT",column_types:"TEXT"})};a.writeSchema=function(d,i){if(d==="schema_definitions"||d==="schema_migrations"){return}var g=[],c=[],b,h,e,f;for(b in i){g.push(b);c.push(i[b])}h=g.join();e=g.join();f=a.schema.findBy("table_name",d);if(f){f.column_names=h;f.column_types=e;f.save()}else{f=new a.schema;f.fromArray({table_name:d,column_names:h,column_types:e});f.save()}};a.readSchema=function(d){if(d==="schema_definitions"||d==="schema_migrations"){return null}var g=a.schema.findBy("table_name",d),c=g.column_names.split(","),j=g.column_types.split(","),h={},f,b=c.length,e;for(f=0;f<b;++f){e=c[f];h[e]=j[f]}return h};a.currentSchemaVersion=function(){var b="SELECT version FROM schema_migrations LIMIT 1";return parseInt(Adapter.execute(b)[0].version,10)};a.updateSchemaVersion=function(b){var c="UPDATE schema_migrations SET version = "+b;Adapter.execute(c)};a.modifyColumn=function(c,b,d){if(!d){throw new Error("MIGRATION_EXCEPTION: Not a valid column modification")}var h=a.readSchema(c),f={},e,g;for(e in h){g=h[e];switch(d.modification){case"remove":if(e!==b){f[e]=g}break;case"rename":if(e!==b){f[e]=g}else{f[d.newName]=g}break;case"change":if(e!==b){f[e]=g}else{f[e]=d.newType}break;default:throw ("MIGRATION_EXCEPTION: Not a valid column modification")}}Adapter.transaction(function(){var l=Adapter.execute("SELECT * FROM "+c);if(l.length!=0){throw new Error("Modify column not quite ready yet...")}a.dropTable(c);a.createTable(c,f);for(var m=0,j=l.length;m<j;++m){var k=l[m];switch(d.modification){case"remove":delete k[b];Model.insert(c,k,Adapter.getConnection());break;case"rename":k[d.newName]=k[b];delete k[b];Model.insert(c,k,Adapter.getConnection());break;case"change":Model.insert(c,k,Adapter.getConnection());break;default:throw ("MIGRATION_EXCEPTION: Not a valid column modification")}}})};a.createTable=function(b,d){if(!b||!d){return}var g="CREATE TABLE IF NOT EXISTS "+b+"\n",e,f,c=0;g+="(";for(e in d){f=d[e];if(0!==c){g+=",\n"}g+=(e+" "+f);if(e==="id"){g+=" PRIMARY KEY AUTOINCREMENT"}++c}g+=")";Adapter.execute(g);a.writeSchema(b,d)};a.dropTable=function(b){var d="DROP TABLE IF EXISTS "+b,c;Adapter.execute(d);c=a.schema.findBy("table_name",b);c.destroy()};a.renameTable=function(c,b){var e="ALTER TABLE "+c+" RENAME TO "+b,d;Adapter.execute(e);d=a.schema.findBy("table_name",c);d.table_name=b;d.save()};a.addColumn=function(d,c,b){var f="ALTER TABLE "+d+" ADD COLUMN "+c+" "+b,e;Adapter.execute(f);e=a.readSchema(d);e[c]=b;a.writeSchema(d,e)};a.removeColumn=function(c,b){a.modifyColumn(c,b,{modification:"remove"})};a.renameColumn=function(c,b,e){var d={modification:"rename",newName:e};a.modifyColumn(c,b,d)};a.changeColumn=function(c,b,e){var d={modification:"change",newType:e};a.modifyColumn(c,b,d)};a.addIndex=function(c,b,e){var d="CREATE"+(e?" UNIQUE ":" ")+"INDEX IF NOT EXISTS "+c+"_"+b+"_index ON "+c+" ("+b+")";Adapter.execute(d)};a.removeIndex=function(c,b){var d="DROP INDEX IF EXISTS "+c+"_"+b+"_index";Adapter.execute(d)};this.Migration=a})();
